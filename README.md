# Персональная библиотека книг

Приложение для учета персональной библиотеки книг, разработанное на C++ с использованием фреймворка Qt.

## Описание

Курсовая работа по объектно-ориентированному программированию. Приложение позволяет управлять личной коллекцией книг с полным набором функций для учета, поиска и организации.

## Функциональность

### Основные возможности:
1. **Добавление и редактирование книг**
   - Название, автор, жанр, год издания
   - Статус чтения (читаю, прочитана, планирую прочитать)
   - Теги для дополнительной классификации

2. **Поиск книг**
   - По названию
   - По автору
   - По жанру

3. **Сортировка**
   - По алфавиту (название)
   - По автору
   - По году издания
   - По жанру

4. **Формирование списков**
   - "Прочитанные книги"
   - "Планирую прочитать"
   - "Читаю сейчас"

5. **Импорт/Экспорт**
   - Сохранение библиотеки в JSON формате
   - Загрузка библиотеки из файла

6. **Статистика**
   - Общее количество книг
   - Количество прочитанных книг
   - Количество книг в списке "планирую прочитать"

## Архитектура и паттерны проектирования

### Использованные паттерны:

#### 1. **Strategy (Стратегия)**
Реализован для различных способов сортировки книг:
- `ISortStrategy` - интерфейс стратегии
- `SortByTitleStrategy` - сортировка по названию
- `SortByAuthorStrategy` - сортировка по автору
- `SortByYearStrategy` - сортировка по году
- `SortByGenreStrategy` - сортировка по жанру
- `BookSorter` - контекст, использующий стратегию

#### 2. **Composite (Компоновщик)**
Реализован для управления коллекциями книг:
- `IBookComponent` - базовый компонент
- `BookCollection` - Leaf (простая коллекция)
- `BookList` - Composite (составная коллекция)

### Структура классов:

```
Book - модель книги
├── ReadingStatus - перечисление статусов
└── Методы сериализации (toJson/fromJson)

LibraryManager - менеджер библиотеки
├── Управление книгами (добавление, удаление, редактирование)
├── Поиск по различным критериям
├── Интеграция с BookSorter
└── Импорт/Экспорт в JSON

MainWindow - главное окно приложения
├── Вкладки для разных представлений
├── Формы поиска и сортировки
└── Интеграция с LibraryManager

BookDialog - диалог добавления/редактирования книги
└── Формы ввода данных
```

## Технические требования

### Необходимое ПО:
- Qt 5.15 или Qt 6.x
- Компилятор с поддержкой C++17 (GCC, Clang, MSVC)
- Qt Creator (рекомендуется)

### Зависимости Qt:
- Qt Core
- Qt Widgets
- Qt GUI

## Сборка проекта

### Использование Qt Creator:
1. Открыть файл `PersonalLibrary.pro` в Qt Creator
2. Настроить комплект сборки (Kit)
3. Нажать "Build" -> "Build Project"
4. Запустить приложение через "Run"

### Сборка из командной строки:

#### Windows:
```powershell
qmake PersonalLibrary.pro
nmake        # для MSVC
# или
mingw32-make # для MinGW
```

#### Linux/macOS:
```bash
qmake PersonalLibrary.pro
make
./PersonalLibrary
```

## Использование

### Добавление книги:
1. Нажать кнопку "Добавить книгу"
2. Заполнить форму (название, автор, жанр, год)
3. Выбрать статус чтения
4. Добавить теги (опционально)
5. Нажать "OK"

### Поиск:
1. Ввести текст в поле поиска
2. Выбрать критерий поиска (название/автор/жанр)
3. Нажать "Найти"

### Сортировка:
1. Выбрать способ сортировки из выпадающего списка
2. Нажать "Сортировать"

### Просмотр списков:
Переключаться между вкладками:
- "Все книги"
- "Прочитанные"
- "Планирую прочитать"
- "Читаю сейчас"
- "Статистика"

### Экспорт библиотеки:
1. Меню "Файл" -> "Экспорт библиотеки" (Ctrl+E)
2. Выбрать место сохранения
3. Указать имя файла (формат .json)

### Импорт библиотеки:
1. Меню "Файл" -> "Импорт библиотеки" (Ctrl+I)
2. Выбрать JSON файл с библиотекой
3. Подтвердить загрузку

## Формат данных

Библиотека сохраняется в JSON формате:

```json
{
  "username": "Пользователь",
  "nextId": 5,
  "books": [
    {
      "id": 1,
      "title": "1984",
      "author": "Джордж Оруэлл",
      "genre": "Антиутопия",
      "year": 1949,
      "status": 2,
      "tags": ["классика", "фантастика"]
    }
  ]
}
```

### Статусы книг:
- `0` - Без статуса (None)
- `1` - Читаю (Reading)
- `2` - Прочитана (Read)
- `3` - Планирую прочитать (PlanToRead)

## Особенности реализации

### Паттерн Strategy:
Позволяет динамически изменять алгоритм сортировки без изменения кода клиента. Новые стратегии сортировки могут быть легко добавлены путем реализации интерфейса `ISortStrategy`.

### Паттерн Composite:
Обеспечивает единообразную работу с отдельными книгами и коллекциями книг. Позволяет создавать иерархические структуры из коллекций.

### Qt Signals/Slots:
Используется механизм сигналов и слотов Qt для связи компонентов:
- `LibraryManager` отправляет сигналы при изменении данных
- `MainWindow` подписывается на эти сигналы для обновления UI

### Модель-Представление:
- **Модель**: `Book`, `LibraryManager`, `BookCollection`
- **Представление**: `MainWindow`, `BookDialog`
- Четкое разделение бизнес-логики и UI

## Возможные улучшения

1. Добавление изображений обложек книг
2. Рейтинг и рецензии книг
3. Статистика чтения (количество страниц, время чтения)
4. Поддержка нескольких пользователей
5. Синхронизация с облачными сервисами
6. Поддержка серий книг
7. ISBN и интеграция с онлайн-базами данных
8. Графики и визуализация статистики
9. Темная тема оформления
10. Экспорт в другие форматы (CSV, XML)

## Автор

Курсовая работа по ООП  
Тема: Учет персональной библиотеки книг  
Паттерны: Strategy, Composite

## Лицензия

Образовательный проект для курсовой работы.

---

**Версия**: 1.0  
**Дата**: 2024
